비트코인의 등장으로 암호화폐를 탐험할 수 있는 기회가 생김. 이더리움의 등장은 **블록체인 위에** 새로운 암호화폐인 **토큰을 쉽게 만들 수 있는 능력을 얻음**.

오늘날 이더리움 플랫폼에서 수만 개의 암호화폐가 존재한다. 이더리움 네트워크는 **암호화폐공개(ICO)**를 통해 암호화폐 펀드를 조성하고, 투자자에게 토큰을 교환할 수 있는 프로젝트를 가능하게 함. → 이를 통해 ‘모든 것을 토큰화한다’는 개념이 확산

# 1. 이더리움 플랫폼의 토큰

---

### **이더리움 기반 토큰 발행 개요**

- **토큰 발행 기능**
    
    개발자는 이더리움 네트워크 위에 암호화폐(토큰)를 만들어 자산을 발행할 수 있음.
    
    대표적인 예로 **ERC-20 표준**은 다양한 거래소, 지갑, 블록체인 서비스에서 쉽게 활용될 수 있도록 지원.
    
- **플랫폼의 확장성**
    
    이더리움 외에도 여러 블록체인 플랫폼에서 토큰 발행 가능하지만,
    
    **이더리움 기반 ERC-20**은 현재 가장 쉽고 안전한 방식으로 평가됨.
    

### **토큰과 블록체인의 잠재력**

- **기술 응용 범위**
    
    모바일 DApp, 분산 컴퓨팅, 결제 메커니즘 등 기술 프로젝트 외에도,
    
    기존 금융 시스템의 한계를 극복할 **혁신 가능성** 보유.
    
- **무형 자산의 가시화**
    
    블록체인과 암호화폐는 현실 자산과 연결될 수 있는 능력에 따라
    
    **실질적 가치를 대표할 수 있는 수단**이 될 수 있음.
    
    → 예를 들어, 부동산 거래에서 블록체인의 토큰은 소유자에게 더 나은 기록 보관을 허용할 수 있다.
    오하이오주는 이런 목적으로 블록체인을 사용하는 것을 고려하고 있다. 앞으로 토큰을 활용해 자산 이전을 보다 빠르고 쉽게 마무리할 수 있다.
    

## 1.1 대체 가능한 토큰과 대체 불가능한 토큰

모든 토큰이 똑같이 만들어 지는 것은 아니다. 토큰을 만들 때 가장 중요한 차별화 요소 중 하나는 **토큰의 대체 가능 여부**다.

### 대체 가능한 토큰과 대체 불가능한 토큰

- **대체 가능 토큰 (Fungible Token)**
    - 동일한 가치를 가지며 서로 교환 가능.
    - 예: 미국 달러, 비트코인, 이더리움, ERC-20 토큰 등.
    - 금융 서비스나 거래에서 동일 단위로서 사용됨.
- **대체 불가능 토큰 (Non-Fungible Token, NFT)**
    - 고유성을 지니며, 각 토큰은 유일하고 교환 불가.
    - 예: 자동차, 주택, 디지털 자산인 크립토키티(CryptoKitties), ERC-721 토큰.
    - 각 자산이 개별성과 희소성을 표현.

### **토큰 발행 시 유의사항**

- **투기 목적 위험**
    - 토큰이 단순히 투기 수단으로만 사용될 경우, 시장 변동성이 커지고 가격 불안정성이 발생할 수 있음.
- **스마트 컨트랙트의 신뢰성**
    - 메인넷에 등록하기 전, 반드시 **제3자 코드 감사** 권장.
    - 대표적인 감사 업체:
        - 오브 비츠(Trail of Bits)
        - 체인시큐리티(Chainsecurity)

### **이더리움 토큰 표준 다양성**

- **대표적 토큰 표준 종류**
    - `ERC-20`: 가장 일반적인 대체 가능 토큰
    - `ERC-721`: 대체 불가능한 토큰 (NFT)
    - `ERC-223`, `ERC-777`, `ERC-1400`, `ERC-846` 등 다양한 확장형 존재
    - `ERC-846`: **공동 소유 기능** 제공
- **전체 표준 확인 방법**
    - GitHub를 통해 이더리움 토큰 표준 전체 목록 열람 가능
    - 일부 표준은 제안 단계에 머무르기도 함

## **1.3 토큰이 필요한 이유**

- **실질적 질문**
    - 블록체인 솔루션 개발 시 가장 먼저 고민해야 할 것은 “정말 토큰이 필요한가?”이다.
    - 많은 프로젝트가 단순한 자금 조달 수단으로 토큰을 사용하지만, 실질적 기능 없이 발행된 토큰은 규제 위험만 높임.
    → **단순히 모금(ICO) 수단만을 위한 토큰은 정당성이 약함**
    → 토큰이 실질적인 역할(예: 서비스 접근, 참여 보상 등)을 수행해야 의미 있음
- **토큰의 효용성**
    
    **단순히 모금 목적이라면 블록체인 기반 프로젝트에 실질적 도움이 되지 않으며**, 안정적인 가치가 필요한 경우에는 토큰보다 **스테이블코인**이 적절할 수 있음.
    
- **수수료 문제와 처리 기능**
    
    불안정한 자산은 트랜잭션 수수료 등의 처리에서 문제가 되며, 수요에 따른 수수료 시장이 형성되어 고비용 구조를 유발할 수 있음.  → *이더리움의 가스 요금 구조도 이와 연관됨.*
    

## 1.4 다른 토큰 종류

이더리움 토큰은 사용 목적과 규제 관점에 따라 **유틸리티**, **보안**, **증권형(STO)** 등으로 구분됨.

개발자는 토큰의 정의와 사용 사례를 명확히 이해해야 함.

### **유틸리티 토큰 (Utility Token)**

- **정의**:
    
    블록체인 기반 암호화폐가 금융 거래 외에 **교환 수단**이나 **사용권한**으로 기능하는 토큰.
    
    - 예: 포인트, 상품권 등처럼 사용됨.
- **대표 사례**:
    - **파일코인(Filecoin)**:
        
        사용자에게 **탈중앙화 클라우드 저장소** 접근 권한을 부여.
        
- **포인트**:
    
    유틸리티 토큰은 투자보다는 **서비스 이용 목적**에 가까움.
    

### **보안형 토큰 (Security Token)**

- **정의**:
    
    SEC(미국 증권거래위원회) 기준으로 **투자계약(investment contract**)에 해당되며,
    
    **수익 약속**이 포함된 구조.
    
- **특징**:
    - 규제 대상이며, 대부분의 국가에서 **유가증권으로 간주**됨.
    - ICO를 통해 발행 시, 투자자 보호와 관련한 규제 장치 적용.
- **대표 사례**:
    - **블록루트(BloXroute)**:
        
        블록체인의 **네트워크 및 라우팅 방식** 개선을 위한 토큰 제공.
        
        → 사용자는 향후 그 사용권에 따른 **지불 권리**를 가짐.
        

### **증권형 토큰 공개 (STO)**

- **STO란?**
    
    기존 ICO의 문제점을 보완하여 **규제 프레임워크에 부합하는 방식**으로, 증권처럼 설계된 토큰을 공개하는 형태.
    
- **배경 및 목적**:
    - 기존 ICO가 IPO와 유사하지만 **투자자 보호가 미비**했던 문제를 해결하려는 시도.
    - 사기, 과도한 투기 등에서 투자자를 보호하려는 전 세계적 규제 흐름과 맞물림.
- **규제 대응 예시**:
    - SEC는 **암호화 기반 보안 제공을 위한 프레임워크**를 발표함.

| 구분 | 사용 목적 | 규제 여부 | 대표 사례 |
| --- | --- | --- | --- |
| 유틸리티 | 서비스 이용·접근 | 낮음 | 파일코인 |
| 보안형 | 투자 수익 목적 | 높음 (SEC 등 규제) | 블록루트 |
| 증권형(STO) | 합법적 투자 유도 | 규제 프레임 기반 | 여러 국가에서 제도화 시도 중 |

# 2. 이더리움 코멘트 요청(ERC) 이해

---

- **목적**: 개발자가 더 나은 스마트 컨트랙트를 작성할 수 있도록 **EVM의 기능을 향상**시키는 것을 목표로 함.
- **역할**: 이더리움 커뮤니티는 **ERC(Ethereum Request for Comments)**라는 형식으로 **공식 표준**을 제안하기 시작함.
- **중요성**: 스마트 컨트랙트 간의 상호작용을 원활히 하기 위해, 앱이 어떤 기능과 입력을 사용할 수 있는지를 **명확히 정의**하는 것이 필요함.
- **절차**: 모든 ERC는 **EIP(Ethereum Improvement Proposal)**로 시작되며, **심사와 검토 절차**를 거침.
- **유사 사례**: 이는 **비트코인 개선 제안(BIP)** 프로세스와 유사함.

## 2.1 ERC-20

- **의미**: 이더리움에서 **가장 일반적인 토큰 표준**.
- **역할**: 스마트 컨트랙트가 **ERC-20 인터페이스를 구현함으로써**, 외부 애플리케이션이나 지갑, 거래소와 **호환 가능**하도록 함.

## 2.2 ERC-721

- **정의**: ERC-721은 **대체 불가능한 토큰(NFT, Non-Fungible Token)**의 표준이다.
- **ERC-20과의 차이점**:
    - ERC-20: **대체 가능** (모든 토큰이 동일한 가치와 속성)
    - ERC-721: **대체 불가능** (각 토큰은 고유한 속성을 가짐)
- **의의**: 디지털 자산의 **희소성과 고유성**을 보장하여, 조작이나 복제가 불가능한 자산을 구현함.
- ERC-721의 활용 예: **크립토키티(CryptoKitties)**
    
    <img width="231" alt="image" src="https://github.com/user-attachments/assets/be7e2b8b-cc99-4fda-adf7-3da6721865f0" />

    
    - **역할**: 디지털 고양이를 **NFT 토큰**으로 표현.
    - **예시**: 그림 속 고양이 Draco #1154는 고유 ID `1270015`를 가진 하나뿐인 자산.
    - **특징**:
        - 외형, 출생일, 쿨다운 속도 등 고유 특성이 블록체인에 저장됨.
        - 누구나 고양이 ID를 통해 해당 정보에 접근 가능.
    - 블록체인 상 정보조회
        
        <img width="651" alt="image" src="https://github.com/user-attachments/assets/375a5033-3a02-4bc9-9e55-5adf9db00f72" />

        

## 2.3 ERC-777

- **목적**: 기존 **ERC-20의 한계**, 특히 **스마트 컨트랙트가 토큰 수신을 인식하지 못하는 문제**를 해결하기 위해 제안됨.
- **핵심 개선점**: **풀 트랜잭션(full transaction)** 방식 도입. 이는 수신자가 토큰을 수신했음을 인식하고 코드 실행이 가능하게 함.

### 2.3.1 기존 문제 (ERC-20 기반)

사용자가 ERC-20 토큰을 한 주소에서 다른 주소로 이동할 수 있는 방법에는 아래 두 가지가 있음

- **푸시 트랜잭션**: 함수 `transfer(address_to, unit256_value)`을 호출하는 것이 푸시 트랜잭션. 송신자는 토큰을 전송한다.
- **풀 트랜잭션**: 함수 `approve(address_spender, unit256_value)`와 `transferFrom(address_from, address_to, unit256_value)`의 조합은 풀 트랜잭션으로, 송신자가 수신자에게 권한을 부여한 후 수신자가 송신자의 계정에서 토큰을 빼낸다.

어떤 사람이 푸시 트랜잭션으로 토큰을 보내면 스마트 컨트랙트로 토큰을 받게 된다. 하지만, 스마트 컨트랙트는 토큰 수신을 인지하지 못하는 문제가 발생한다. 이로 인해, 스마트 컨트랙트가 추가 처리(일부 코드)를 하지 못하면 토큰 손실이 발생한다.

풀 트랜잭션이 위 문제를 해결하는데, **토큰을 받는 스마트 컨트랙트가 트랜잭션을 시작**하여 **토큰이 수신되는 것을 인식하고 추가 코드를 실행**할 수 있다. 

풀 트랜잭션은 수신자인 스마트 컨트랙트에서 실행하지만, 잘못 사용하면 토큰을 잃을 수도 있음

- 사용자가 올바른 풀 트랜잭션을 써야 하지만, 실수로 푸시 트랜잭션을 사용한 경우

### 2.3.2 ERC-777이 해결한 방법

- `authorizeOperator` / `revokeOperator`
    - 토큰 소유자가 지정한 연산자(operator)에게 **토큰 전송 권한을 위임**하거나 철회 가능.
    - 기존 ERC-20의 `approve`보다 더 **강력하고 유연한 권한 위임 방식**.
    - 한 번 승인하면, **반복 승인 없이** 오퍼레이터가 전송 수행 가능. (토큰을 전송할 때마다 오퍼레이터 승인 X)
    - ERC-20의 풀 트랜잭션 조합의 변형 방식

- `tokensReceived` / `tokensToSend` 훅(Hook)
    - 스마트 컨트랙트에 다음과 같은 **후크 함수**를 구현 가능:
        - `tokensReceived`: 토큰 수신 시 호출되어 **토큰 수락 여부를 판단**.
        - `tokensToSend`: 토큰 송신 전에 호출되어 **사전 처리가 가능**.
    - **거부 시 트랜잭션 자체가 취소**되므로 토큰 손실을 방지할 수 있음.
    - 비유: "우체국에 편지를 보내기 전에도 취소 가능하고, 수신자가 받을지 말지도 결정 가능".

- `send(address to, uint256 amount, bytes data)`
    - **ERC-20의 `transfer()`와 유사**하지만, **데이터 필드**를 추가하여 스마트 컨트랙트가 특별한 처리를 하도록 설계 가능.
    - 데이터 필드를 통해 **특정 로직 트리거 가능**.

ERC-777 표준은 ERC-20보다 개선되었지만 모든 이해 관계자가 새로운 표준으로 이동하는 데 전환 비용이 많이 들기 때문에, 아직 업계에서 채택되지 않음

# 3. 다중 서명 컨트랙트

일반적인 이더리움의 외부 소유 계정(EOA, )은 지갑에서 자금을 보내려면 하나의 개인키로 트랜잭션이 가능하다.  이 키가 유출되면 자금이 탈취될 수 있기도 함

다중 서명의 목적은 **여러 명의 서명이 있어야 트랜잭션이 실행**되도록 하여 보안성과 신뢰성을 강화하는 것이다. 업계에서 널리 사용되는 방식이지만, 다중 서명 컨트랙트에 관한 ERC 표준은 없다.

## 3.1 M-of-N 구조

- **N**: 트랜잭션을 승인할 수 있는 전체 주소 수.
- **M**: 실제로 트랜잭션 실행에 필요한 최소 서명 수.
- (M < N)

예를 들어, `3-of-5` 구조라면, 총 5명의 서명자 중 3명이 동의해야 자금이 이동된다. 

**활용 예시**

- ICO(토큰 판매)에서 자금 보호를 위해 주로 사용됨.
- 투자자 신뢰 확보를 위해 다중 서명 지갑의 소유자 리스트와 서명 요건을 **공개**함.
- 예시로 소개된 ICO에서는 **3,300만 달러를 MultiSig 지갑**으로 관리했고, 블록체인 상에서 `M/N` 구조 및 승인 내역을 **누구나 감시 가능**하게 함

<img width="695" alt="image" src="https://github.com/user-attachments/assets/ac439612-d1d8-4b2c-8e07-d9362d0a58f4" />


1. 트랜잭션 제출: 다중 서명 트랜잭션 수행 권한이 있는 서명자 중 한 명이 트랜잭션을 등록함
(→ `submitTransaction()` 호출)
2. 서명 진행: 나머지 서명자들이 서명을 추가한다. 필요한 서명 수(M)가 충족될 때까지 대기
(→ `confirmTransaction()` 호출)
3. 실행: M개의 서명이 완료되면, **트랜잭션 자동 실행** 

# 4. 탈중앙화 거래소 컨트랙트

## 4.1 중앙집중형 거래소(CEX)

- 대표 사례: Coinbase, Bitstamp, Gemini 등
- 모든 거래는 **중앙 기관이 운영하는 서버**에서 처리 (AWS 등과 같은 웹 호스팅 공급자 같은 곳에서 배포됨)
- 사용자는 거래소의 지갑에 자금을 예치하고, 거래소가 대신 거래를 처리

## 4.2 탈중앙화 거래소(DEX)

**목적**

- 중개자 없이 **당사자 간 암호화폐를 직접 교환**할 수 있는 스마트 컨트랙트 기반 플랫폼
- 신뢰보다 **코드와 프로토콜의 자동화**에 의존

**스마트 컨트랙트의 역할**

1. **ETH 및 ERC-20 토큰의 수신 및 보관**
2. **사용자의 가격 요청(오더북) 기록**
3. **호가가 일치하면 자동으로 소유권 변경 처리**

## 4.3 탈중앙화 거래소의 장점

- **투명성**: 스마트 컨트랙트 기반이라 누구나 거래 로직과 상태 감시 가능
- **보안성**: 거래소가 자금을 보관하지 않음 → **해킹 위험 감소**
- **검열 저항성**: 중앙 주체가 없어 운영 제한 어려움

<img width="325" alt="image" src="https://github.com/user-attachments/assets/85e6074c-a4c3-4a19-9e9a-c3c097643332" />


## 4.4 탈중앙화 거래소의 단점

- **느린 속도**: 블록체인 반영까지 지연이 발생한다.
- **비싼 수수료**: 주문, 취소, 변경마다 온체인 트랜잭션 필요 → 가스비용 발생
- **사용자 친화성 부족**: 사용자가 작업을 완료할 때마다 트랜잭션에 서명해야됨 → 기술을 모르는 일반 사용자가 사용하기에는 복잡함
