# 모든 것을 토큰화

비트코인의 등장으로 다양한 암호화폐를 탐험할 수 있는 기회가 생겼다면, 이더리움의 등장으로 블록체인 위에 새로운 암호화폐인 토큰을 쉽게 만들 수 있는 능력을 얻었다. <br>
이더리움 네트워크는 암호화폐 펀드를 조성하고 투자자에게 토큰을 교환할 수 있는 프로젝트를 가능하게 하는 암호화폐공개(ICO)를 통해 모든것을 토큰화한다는 개념이 확산되는 계기가 됐다.

#### 마스터코인

개발자 J.R 월렛은 2011년부터 마스터코인 백서를 작성했다. <br>
목표는 다른 모든 암호화폐처럼 완전히 새로운 블록체인을 만드는 것이 아니라, 비트코인 위에 완전히 새로운 통화, 상품, 증권 네트워크를 만드는 것이였다. <br>

#### 이더리움

이더리움은 2013년 11월 비탈릭 부테린이 비트코인, 마스터코인 및 기타 프로젝트의 요소를 기반으로 새로운 프로토콜을 제안하는 <br>
차세테 스마트 콘트랙트와 탈중앙화 애플리케이션 플랫폼이라는 이더리움 백서를 발간으로 시작됐다. <br>

#### 노시스

분산현 애플리케이션 예측 시장 플랫폼인 노시스는 2015년 ICO를 보유한 초기 이더리움 기반의 오퍼링인 어거 프로젝트와 유사하다. <br>
노시스 멀티시그 지갑은 이더리움 생태계에서 널리 사용되는 지갑이며, 특히 토큰의 스토리지와 같은 응용 분야에 사용된다. <br>
가장 흥미로운 측면은 더치형 경매 시스템이다. 이는 ICO 기간동안 토큰의 가치가 하락할 수 있게 해줬고, 투자자들이 최고 가격을 얻기위해 끝까지 기다리도록 장려했다.

#### EOS

EOS.IO는 EOS 암호화폐 보유자 사이에 컴퓨팅 자원을 똑같이 분배함으로써 블록체인의 확장성 문제를 해결하는 것을 목표로 하는 블록체인 프로토콜이다. <br>
이 프로젝트는 이더리움에서 무제한 토큰 세일로 이는 역사상 가장 큰 ICO 모금액이 조성됐다.

## 이더리움 플랫폼의 토큰

토큰을 만들면 개발자가 이더리움 네트워크에 암호화폐를 만들 수 있다. <br>
이더리움의 ERC-20 표준은 네트워크 상의 블록체인 자산에 대한 참조 구현체로서, 토큰이 다양한 거래소나 지갑 및 기타 블록체인 서비스에 사용될 속성을 쉽게 구축함으로써 길을 열어줬다. <br>
모바일 디앱, 분산 컴퓨팅, 결제 메커니즘과 같은 기술력인 프로젝트 외에도, 토큰은 기존 금융 서비스에 혁명을 일으킬 수 있는 잠재력이 있다. <br>
복잡한 부동산 거래에서 블록체인의 토큰은 소유자에게 더 나은 기록 보관을 허용할 수 있다.

### 대체 가능한 토큰과 대체 불가능한 토큰

토큰을 만들 때 가장 중요한 차별화 요소는 토큰의 대체 가능 여부다. <br>
대체 가능한 토큰은 모두 같은 가치를 갖고 서로 교환할 수 있지만, 대체 불가능한 토큰은 그렇지 않으며 독특하게 표현된다. <br>
대체 가능한 자산의 사례로는 미국 달러와 같은 통화가 있다. 1달러는 동전이나 지폐, 디지털 방식으로 은행 계좌 또는 기타 금융 서비스에 물리적 형태로 존재하던 1달러다. (비트코인, 이더리움, ERC-20 토큰 등이 해당) <br>
자동차나 주택 등 품목은 각각 독특하고 다른 임의의 자동타나 주택과는 교환이 안된다. <br>
이더리움에서 ERC-721 토큰으로 표현되던 크립토키티는 대체 불가능한 자산의 사례다.

### 에어드롭

토큰을 배포하는 방법 중 하나는 에어드롭이다. <br>
이미 존재하는 블록체인의 네트워크 효과를 활용하기 위해 에어드롭은 많은 사용자에게 암호화폐를 무료로 주고나 저비용을 들여서 분배하는 방식이다. <br>
프로젝트가 출범 단계에서 사용자 기반을 신속하게 확보해 암호화폐의 채택을 고정하는 방식이다.

## 이더리움 코멘드 요청(ERC) 이해

개발자가 더 나은 스마트 콘트랙트를 작성할 수 있도록 EVM의 기능을 향상시킴으로써 이더리움 커뮤니티는 ERC로 공식화된 표준을 만들기 시작했다. <br>
표준은 이더리움 스마트 콘트랙트와 상호작용하고자 하는 앱이 어떤 기능과 입력을 호출할지 알 수 있도록 하기 때문에 중요하다.

### ERC-20

ERC 토큰의 가장 일반적인 ERC 표준은 ERC-20이다. <br>
아래는 ERC-20 함수이다.

| 메서드                                                                                    | 설명                                                |
|----------------------------------------------------------------------------------------|---------------------------------------------------|
| totalSupply() public view returns (unit256 totalSupply)                                | 총 토큰 공급량을 가져온다.                                   |
| balanceOf(address _owner) public view returns (uint256 balance)                        | 주소가 _owner인 다른 계정의 잔액을 가져온다.                      |
| transfer(address _to, uint256 _value) public returns (bool success)                    | 주소가 _from에서 주소 _to로 토큰 _value의 양을 전송한다.           |
| transferFrom(address _from, address _to, uint256 _value) public returns (bool success) | 주소 _from에서 주소 _to로 토큰 _value의 양을 전송한다.            |
| approve(address _spender, uint256 _value) public return (bool success)                 | _spender가 최대 _value 금액까지 계정에서 여러번 인출할 수 있도록 허용한다. |
| allowance(address _owner, address _spender) public view returns (uint256 remainig)     | _spender가 _owner에서 인출할 수 있는 양을 반환한다.              |

<br>

ERC-20 표준을 준수하는 모든 스마트 콘트랙트는 아래의 두 가지 이벤트로 구현된다

| 이벤트                                                                        | 설명                     |
|----------------------------------------------------------------------------|------------------------|
| Transfer(address indexed _from, address indexed _to, uint256 _value)       | 토큰이 전송될때 트리거되는 이벤트다.   |
| Approval(address indexed _owner, address indexed _spender, uint256 _value) | 승인이 호출될때마다 이벤트가 트리거된다. |

### ERC-721

ERC-721은 대체 불가능한 토큰의 표준이다. <br>
대쳬 불가능한 토큰을 사용하면 각 토큰은 다른 속성을 가져 고유하므로 극단적인 디지털 희소성을 허용한다. <br>
가상 상품이나 실제 아이템을 ERC-721 토큰에 연결하는 것은 복사 또는 조작이 불가능한 디지털 희소한 아이템을 만드는 방법이다.

### ERC-777

ERC-777은 차세대 대체 가능 토큰인 ERC-20을 위한 표준이다. <br>
여기에는 ERC-20 표준에 대한 몇 가지 개선사항이 포함되어 있으며, 토큰이 전송되는 방식이 가장 중요하다. <br>
사용자가 ERC-20 토큰을 한 주소에서 다른 주소로 이동할 수 있는 두 가지 방법이 있다.

#### Push transaction

함수 transfer(address_to, uint256_value)를 호출하는 것은 푸시 트랜잭션이며, 송신자는 토큰을 전송한다.

#### Pull transaction

함수 approve(address_spender, uint256_value)와 transferFrom(address_from, address_to, uint256_value)의 조합은 풀 트랜잭션으로 <br>
송신자가 수신자에게 권한을 부여한 후 수신자가 송신자의 계정에서 토큰을 뺴낸다.

> 어떤 사람이 푸시 트랜잭션으로 토큰을 보내면 스마트 콘트랙트로 토큰을 받게 된다. <br>
> 그러나 스마트 콘트랙트는 토큰을 받았음을 알리고 일부 코드를 실행하도록 지시하는 트리거를 받지 못하는 문제가 생긴다. <br>
> 풀 트랜잭션은 이 문제를 해결한다. 토큰을 받는 스마트 콘트랙트가 트랜잭션을 시작하고, 토큰이 수신되는 것을 인식하고 이벤트에 대응하기 위해 추가 코드를 실행할 수 있다. <br>
> 풀 트랜잭션은 잘못 사용하면 많은 토큰을 읽기도 한다. <br>
> 사용자가 올바른 풀 트랜잭션을 써야하지만 실수로 푸시 트랜잭션을 사용해 스마트 콘트랙트로 토큰을 보내는 경우가 그렇다. <br>
> 스마트 콘트랙트는 토큰을 받았음을 인식하지 못하고 나중에 다른 주소로 보낼 수 없으므로 해당 토큰은 잘못 전성돼 영원히 찾을 수 없게 된다.

ERC-777은 다음과 같은 개선사항을 도입해 문제를 해결할 것을 제안했다.

- authorizeOperator와 revokeOperator
  - 토큰 소유자들이 스마트 콘트랙트에서 토큰을 대신 전송하도록 허용하거나 철회할 수 있다.
- tokensReceived 및 tokensToSend 후크
  - 토큰을 받는 콘트랙트는 tokensReceived라는 기능이 포함될 수 있다. 받는 쪽에서는 어떤 ERC-777 토큰을 받기를 원하고 어떤 토큰을 거부하기를 원하는지 식별할 수 있다.
- send(address to, uint256 amount, bytes data)
  - 푸시 트랜잭션에는 발신자가 콘트랙트에 토큰을 보낼 수 있을 뿐 아니라 수신 콘트랙트에서 함수를 트리거하는 특수 논리를 포함할 수 있는 데이터 필드가 포함된다.

ERC-777 표준은 ERC-20보다 개선됐지만 모든 이해 관계자가 새로운 표준으로 이동하는데 비용이 많이 들기 때문에 아직 업계에서 채택되지 않고 있다.

### ERC-1155

ERC-1155는 게임에서 가상 상품을 추적하도록 설계된 표준이다.

## 다중 서명 콘트랙트

이더리움의 외부 소유 계정(EOA) 지갑에서 자금을 보내려면 하나의 개인키만 있으면 된다. <br>
개인키가 손상되면 계좌에서 자금이 도난당하는 것을 막을 수 있는 방법은 없다. <br>
다중 서명 지갑의 목적은 자금을 보내기 위해 개인키 여러개를 요구함으로써 무단으로 자금이 도난당할 위험을 낮추는 것이다. <br>
모든 다중 서명 콘트랙트에는 거래를 승인하기 위해 M개의 N개의 서명이 필요하다.

- N은 트랜잭션을 승인할 수 있는 이더리움 주소의 수다.
- M은 트랜잭션을 승인하는데 필요한 N개의 고유 주소 중 최소 서명 수다.

M은 N보다 작아야 한다. 예를 들어 트랜잭션을 승인할 수 있는 3개의 주소가 있다면 트랜잭션을 완료하려면 2개의 서명만 있으면 된다.




