# 6장 마켓 인프라

### 비트코인의 가격 변동

비트코인(BTC) 는 암호화폐 경제의 지표이다. 다른 암호화폐의 가격에도 BTC 가격이 큰 영향을 미친다. 암호화폐 생태계에 많은 사람들이 참여할 수록 비트코인 가격에 거품이 생겨 높은 가격으로 치솟았다.

<p align="center">
    <img width="600" alt="Image" src="https://github.com/user-attachments/assets/b534ab14-679e-4af5-8fd8-d721b2e662a8" />
</p>

**암호화폐 역사 전반에 걸쳐 사고 파는 방법들**

- 사람 대 사람
- 제품/서비스 구매 또는 판매
- 암호화폐 ATM
- 채굴
- 거래소

모든 방법에는 장단점이 있다. 서로에 대해 알면 개인간 거래는 안전한 선택이지만, 한 쪽에서 속이려고 한다면 문제가 된다.

상품과 서비스를 사고 파는 것은 암호화폐를 채택하는 이유였지만, 수수료가 비싸고 확인 시간이 느리고 네트워크 확장성 등의 문제로 인해 대중적인 결제 매커니즘으로 자리잡지 못했다.

거래소는 암호화폐를 거래하는 주요 수단으로 등장했다.

---

### 거래소의 역할

거래소는 암호화폐 시장에서 지배적인 역할이 되었다. 암호화폐 마켓을 이해하려면 플랫폼을 알아야 한다.

**거래소의 유형**

- **중앙집중화 거래소** (Coinbase, Cryptomus 등)
- **탈중앙화 거래소** (IDEX, 카이버 스왑 등)
- **현물(DEX) 거래소** (Uniswap v2, Raydium 등 Swap 거래소)
- **파생상품 거래소** (Binance, ByBit, OKX 등)

**거래소에서 사용되는 용어**

- **마켓** - 시장 가격으로 즉시 거래하는 주문으로 구매, 판매가 가장 빠른 방법이다.
- **제한** - 가격이 지정된 주문으로 마켓이 매수, 매도 가격에 맞춰질 때까지 주문되지 않는다.
- **만기** - 주문을 통해 일부 거래소는 만기일을 설정할 수 있다.
- **메이커/테이커** - 거래소는 수수료를 부과하기 위해 이 모델을 사용한다. 이는 유동성을 제공하는 트레이더(메이커)가 수수료를 지불하지 않는 반면, 마켓에서 오더북을 통해 거래하는 거래자(테-이커)가 거래소에 수수료를 지불한다는 것을 의미한다.
- **매수/매도** - 구매자, 판매자가 각각 마켓 주문에 대한 희망 가격

**오더북(Order Book)**

**거래소의 미결제 암호화폐 주문** 을 시각적으로 표현한 것이다.

<p align="center">
    <img width="600" alt="Image" src="https://github.com/user-attachments/assets/9b0fe888-d50b-4217-95a3-8a12a712977f" />
</p>

**슬리피지(Slippage)**

거래의 예상 가격과 체결 가격 간의 차이를 뜻한다. 트랜잭션 요청 이후 다른 유저의 거래 혹은 유동성 제거에 의해 손해가 발생하는 부분이다.

거래소에서는 “슬리피지 설정” 을 통해 원래 받게 된다고 표시된 수량과 설정 값 이상으로 차이가 나는 경우 거래를 취소할 수 있다.

**뎁스차트(Depth Chart)**

오더북 시각화 도구이다. 트레이더는 특정 암호화폐에 대한 매수 및 매도 깊이를 확인할 수 있다. 즉, 시장에서 수요와 공급사이의 실시간 관계를 볼 수 있다.

**관할권(Jurisdiction)**

암호화폐 거래는 거래소가 아닌 다른 관할권에서 운영되므로 다양한 수준의 규제 감독을 준수해야 한다.

**암호화폐 거래소의 4가지 유형**

<p align="center">
    <img width="600" alt="Image" src="https://github.com/user-attachments/assets/5d15371e-44c0-41f5-b04a-8c10ce27fbdd" />
</p>

#1 : 엄격한 규제를 받는 국제 거래소 / 고객 규칙을 엄격히 하고 고객 정보를 파악

#2 : 완화된 규제를 두고 운영하는 거래소 / 미국 이외의 지역에서 서비스 제공을 위해 규칙을 완화

#3 : 규제가 심한 지역화된 거래소 / 해당 국가에서만 서비스 제공

#4 : 은행이 없어 규제가 완화된 거래소 / 은행 계좌를 유지하기 위한 규정을 준수하지 않음 (은행 사업이 없어 상대적인 유사한 가격을 유지하기 위해 USDT 같은 코인 사용)

**자금세탁**

시장에서 널리 퍼져있는 시장 조작의 형태로, 트레이더들이 동시에 암호화폐를 매수/매도해 인위적인 시장을 조성하는 것이다.

- **자금세탁의 목적**
    - 암호화폐 거래량을 늘려 가격을 끌어올린다. (스푸핑, Spoofing)
    - 특정 암호화폐의 대량 판매 등으로 악행을 감추고 활동한다.
    - 거래량을 부풀려 거래소가 받는 거래 수수료를 높인다.
- **트래블룰(Travel Rule)**
    - 자금세탁을 방지하기 위해 기존 금융권에 구축된 ‘자금 이동 추적 시스템’ 이다.

**고래 (헤비트레이더)**

암호화폐 보유량이 많은 사람들을 일컫는다. 이들은 시장에 예측불가한 영향을 미치기도 한다.

자산 관리 서비스(커스터디)는 높은 규제 안에서 자금 이전에 제한이 많지만, 고래는 개인키와 컴퓨터, 인터넷만 있으면 된다.

**비트코인 반감기**

비트코인 반감기는 **코인베이스 거래** 라고도 알려진 비트코인 네트워크의 **채굴 블록 보상이 절반으로 줄어드는 이벤트** 로, 새로운 비트코인의 공급을 줄이는 4년에 한 번 나타나는 이벤트다.

반감기는 비트코인의 상승세를 일으키는 원인으로 여겨지고 있다. 수요는 일정하지만 공급이 감소하기 때문이다.

<p align="center">
    <img width="600" alt="Image" src="https://github.com/user-attachments/assets/09b7cb24-43a3-41b3-9e4f-371884f45de8" />
</p>

비트코인 시장에 미치는 영향

**파생상품 용어**

- **옵션 -** 코인의 미래 가격을 예측해 특정 시점에 미리 정한 가격으로 코인을 매매할 수 있는 권리를 제공한다.
- **선물 -** 수익을 코인으로 받는 기업이 향후 어느 시점에 화폐 가격을 고정할 수 있도록 한다.
- **상장지수펀드 -** 투자자가 다른 당사자가 관리하는 자산(암호화폐)에 수수료를 받고 접근/관리 할 수 있는 상품이다.
- **마진/레버리지 상품 -** 마진은 거래자가 거래를 하기 위해 **거래소에 예치하는 자금**을 뜻한다. 레버리지는 적은 자본으로 **더 큰 거래 규모를 가능하게** 해주는 기능이다.

---

### 암호화폐 시장 구조

**차익 거래**

마켓에서 자산을 특정 가격에 매입하고 다른 마켓에서 같은 자산을 더 높은 가격에 매도하는 행위이며, 마켓 간의 가격 차이를 이용한다.

차익 거래업자들은 가격 변동을 줄이고 유동성을 증가시켜 생태계의 불안정성을 완화시켜준다.

상대적으로 리스크가 적어 매력적인 거래 전략이지만, 진입 장벽이 낮아 많은 트레이더들과 경쟁하게 되어 마진이 적어진다.

**거래처 리스크**

차익 거래에서 가장 큰 위험 중 하나는 자금을 보관하는 거래소에 자본을 맡기는 것이다. 2010년 이후 거래소가 해킹 또는 폐쇄되어 고객 자금이 손실되어 리스크가 높아졌다.

안전한 거래소 커스터디(수탁) 인프라를 구축하기 위해 다음이 필요하다.

- 많은 기술 자원
- 여러 보안 그룹에 의한 감사
- 명확하게 정의되고 신중하게 계획된 기업 지배 구조 프로세스

그렇기 때문에, 이미 견고하게 구축된 커스터디 솔루션을 사용하는 것이 도움이 될 수 있다.

**거래소에서의 커스터디 작동 방식**

<p align="center">
    <img width="600" alt="Image" src="https://github.com/user-attachments/assets/a49b91b2-22f9-4ec6-8b8b-0cb6609fc5b8" />
</p>

입금 시 각 사용자에게 입금 주소를 부여한다.

사용자 예금 주소를 통해 거래소에 입금되면 **웜 월렛** 으로 들어와 화이트리스트에 등록된 주소 혹은 미리 정해진 주소로만 자금을 보낼 수 있다. 웜 월렛은 수신 자금을 **핫 월렛** 또는 **콜드 월렛** 으로 분배한다.

거래소는 인출 지갑에 더 많은 자금을 보충해 놔야 한다. (출금 시 유동성 확보)

**콜드 스토리지** 란 암호화폐 보유 자산과 개인 키를 오프라인으로 저장하는 것을 의미한다. (실제 자산이 디바이스에 묶여있지는 않음) 콜드 디바이스 혹은 스토리지는 개인키를 사용해 거래에 서명한다. 서명이 생성되면 인터넷을 통해 블록체인에 브로드캐스트 한다.

**개인 키 거래 서명 방법들**

1. 휴대용 저장장치를 연결해 자동으로 인터넷을 통해 브로드캐스트
2. 물리 종이에 서명을 적어 인터넷과 연결된 컴퓨터에 수동으로 입력

**암호화폐 커스터디를 위한 주의할 점**

- 5% 미만의 규칙
    - 해커가 거래소를 침해할 때 최대 5% 미만의 금액만 접근할 수 있어 피해를 최소화
    - 한국의 규제에서는 핫 2 : 콜드 8 규칙이 있음
- 화이트리스트 주소
    - 외부자가 직접 입금 가능한 모든 지갑 주소는 항상 핫 월렛 이어야 한다. 이때 자금 구성 방법을 화이트리스트라 한다.
- 유동성의 징후
    - 사용자의 자금 인출 시 시간이 오래 걸리는 것은 거래소가 폐쇄될 가능성이 있을 수 있다는 신호이다.

**마켓 데이터**

암호화폐 데이터는 출처에 따라 큰 차이가 난다. 따라서 시장 데이터 소스에 익숙해져야 한다. 데이터 소스 업체들은 블록 익스플로러, 트랜잭션 추적 시스템과 같은 각각 다른 데이터 셋과 툴을 제공한다.

### 분석

시장에서 트레이더가 돈을 벌기 위해 사용하는 시장 분석 방법은 **기술적 분석** 과 **기본적 분석** 이 있다. 기술적 분석은 **경제적, 재정적** 요인을 조사해 암호화폐의 가치를 측정하는 것이고, 기본적 분석은 **차트 중심의 접근** 방식을 의미한다.

**기본적 암호화폐 분석**

개발을 주도하는 암호화폐 재단보고서를 모니터링하면 개발, 사용자 채택 수치 및 규제 개발에 대한 뉴스가 단기적으로 기본적 분석에 도움이 된다.

기본적 분석을 위해 뉴스를 분석할 때는 정보의 신뢰성에 주의해야 한다. 암호화폐에 대한 보도를 잘 하는 기성 매체는 다수 존재하는데, 일부 매체들은 돈을 받고 어떤 광고주에게 편향된 기사를 특징으로 한다.

**기술적 암호화폐 분석**

트레이더는 차트를 통해 과거 기록을 분석해 미래의 가격을 결정할 수 있다. **트레이딩 뷰** 같은 도구는 기술 분석가가 사용하는 여러가지 도구를 갖추고 있다.

암호화폐는 상대적으로 시장 참여자가 적기 때문에 유동성 수준이 낮아서 **바트 패턴** 같은 패턴의 원인이 되기도 하는데, 시장이 깊지 않아 가격이 빠르게 변동할 수 있음을 의미한다.

---

### 규제 문제

규제를 준수하는 거래소는 운영 국가의 법을 따른다. 세계적으로 대부분의 거래소는 다른 나라의 고객에게 서비스를 제공하지만, 한국 거래소는 한국 거주 고객에 대해서만 서비스를 제공할 수 있다.

다양한 규제 요인들로 인해 2017년 비트코인 강세 기간 동안 **김치 프리미엄** 이 붙어 5-10% 더 높은 판매가를 기록했던 경우가 많았다.

**뱅킹 리스크**

국제적으로 규제 당국과 은행들은 AML, KYC 제도를 엄격하게 시행하고 있어 새로운 암호화폐 사업체들이 은행 계좌를 개설하는 장벽을 크게 증가시킨다.

**은행이 거래를 감사할 때 위험을 추측하는 상황**

- 다른 나라에서 송금/수령되는 기금
- 대량 거래
- 암호화폐 관련 사항 ( 부정한 목적 )

**거래소 리스크**

- 거래소 서버 문제 (API 버그, 접속 문제로 인한 지연)
- 거래 우선순위를 매기기 위해 봇을 실행하는 규제되지 않은 거래소
- 환율제한을 도입하는 거래소에서 차익 거래 API 호출 제한

**기본적인 재정 거래 실수**

- 거래 수수료와 세금을 차익 거래 계산에 포함시키기 않는 경우
- 차익 거래 기회를 계산할 때 시세 가격만 보는 경우
