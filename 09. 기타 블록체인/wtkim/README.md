# 9장 기타 블록체인

### 블록체인의 용도

**블록체인 핵심 기술**

- 합의(Consensus)
    - 새로운 레코드의 유효성을 검사해 파손을 방지
- 해시(Hashing)
    - 레코드를 통합해 감사 추적을 유지
- 암호화(Encryption)
    - 디지털 데이터 전송 보호
- 분산화(Distribution)
    - 퍼블릭 원장 레코드를 공유

**블록체인 기술에서 파생된 특성을 기반으로 수행하는 기능**

- 자기조직화(합의)
    - 블록체인은 일반적으로 일정한 시간 단위로 데이터를 처리할 수 있다.
- 영구적인 레코드(해시)
    - 블록체인 기술은 이미 블록에 배치된 레코드를 수정하는 것을 매우 어렵게 만든다.
- 자산 이동(암호화)
    - 블록체인의 처음 활용 사례는 서드파티 개입 없이 자산을 이전하는 것이었다.
- 데이터 공유(분산화)
    - 서로 신뢰가 필요하지 않은 여러 당사자들은 블록체인을 사용해 다양한 데이터 구조에서 협업할 수 있다.

### 데이터베이스와 원장

블록체인은 누구나 합의할 수 있는 데이터 구조이며 어떤 문제를 해결하기 위해 활용할 수 있다. 기업은 블록체인의 정보를 조정하기 위해 데이터베이스를 고려해야 한다.

데이터베이스는 원장, 블록체인은 누구나 참여할 수 있게 공개되고 암호화 되어 있어 무허가 원장으로 묘사한다.

블록체인형 원장 데이터베이스는 **분산 원장 기술(DLT)** 로 더욱 잘 설명할 수 있다. 일반 데이터베이스와 달리 인프라에 새로운 스키마를 제공해 실시간으로 읽기 및 쿼리가 가능하다. (단, 합의 기반 시스템에서는 항상 실시간으로 수행되지는 않으며, 시계를 따르는 것과 비슷하다.)

### 블록체인 플랫폼의 탈중앙화와 중앙집중화

---

**참가자**

| 탈중앙화 | 중앙집중화 |
| --- | --- |
| 누구나 채굴 장비만 있으면 채굴이 가능하다. | 엔터프라이즈 프라이빗 블록체인은 참가자가 누구인지 통제해야 한다. 중앙집중제어는 합의보다 구성이 더 중요하다는 프라이빗 블록체인을 표현하는데 사용되는 공리이다. |

**분산 검증 원장의 주요 특성**

- 승인 통제
    - 원장이 허용하는 내용과 형식을 어떻게 정해야 하는지 정의가 있어야 한다.
- 합의
    - 체인이나 원장에 게시된 정보의 유효성에 동의하는 것을 말한다.
- 검증
    - 네트워크에서 일어난 이벤트가 정확하고 의도된 대로 수행되도록 보장한다.
- 집행
    - 질서를 유지하기 위해서는 집행이 필요하다.
    - 비트코인과 같은 블록체인은 네트워크의 모든 사람이 가장 긴 체인에 동의한 특정 블록에 해당하는 체크포인트를 추가해 집행을 제공한다. 각 포크에서 새로운 ‘가장 긴 체인’은 모든 체크포인트를 포함해야 한다.

### 이더리움 기반 프라이버시 구현

기업들은 잠재적으로 용도가 다양한 블록체인 기술을 사용하고 싶지만 여러 이유로 인해 개인정보를 통제해야 하는데, 이러한 개인정보 보호 문제를 해결하기 위해 자체적인 커스텀 구현체를 만들기도 한다.

- 나이트폴
    - 회계법인 EY 가 이더리움을 구현한 것으로, 컨트랙트에 개인정보 보호 기능을 추가했다. 영 지식 증명을 이더리움에서 사용하기 쉽게 조크라테스 라는 라이브러리를 사용했다.
- 쿼럼
    - 투자은행 JP 모건이 익명성을 보장하기 위해 구현했다. 영 지식 증명 기술을 사용해 개발한 제더 프로토콜을 사용한다.
    - JP 모건은 또한 자체 JPC 스테이블코인을 사용해서 쿼럼 블록체인을 활용해 국제 송금 방법으로 활용하였다. 사용자는 은행에 Fiat 을 입금하고 JPC 코인을 발행받아 Fiat 지불을 위해 상환할 수 있다.

### 엔터프라이즈 구현

특정 사용 사례를 위해 처음부터 자체 솔루션을 구축한 기업들도 있다.

- 하이퍼레저
    - 리눅스 재단에서 호스팅하는 블록체인 개발을 위한 오픈소스 플랫폼이다. Go 언어를 사용한 원장 기술인 패브릭(Fabric) 이 가장 잘 알려져 있다. 패브릭은 이더리움과 마찬가지로 컨트랙트, 거래, 합의를 지원한다.
    - IBM, 오라클을 포함한 많은 엔터프라이즈 블록체인 프로젝트가 이 프레임워크를 기반으로 한다.
- 코다
    - 컨소시엄 R3 에 의해 개발되었고, 프라이버시를 추구하는 기관에 초점을 맞추고 있다. 금융 업계 개발자에게 익숙한 JVM 기반으로 동작한다.
    - 코다는 기업이 혜택을 볼 수 있는 퍼블릭 블록체인의 장점으로 꼽히는 속성(트랜잭션 불변성, 피어 검증)을 가져가면서, 불리한 속성(트랜잭션 투명성, 제한적인 확장성, 퍼미션리스 등)에 대한 부분도 대응하기 위해 만들어졌다.
    - 코다 네트워크는 노드의 피어 투 피어 이며, 모든 노드는 전송 계층 보안(TLS) 를 통해 직접적으로 비공개로 통신한다.
    - 각 노드는 트랜잭션 완료 후, 자신의 데이터베이스에 저장한다. 즉, 거래에 관련된 노드만 거래의 가시성을 가질 수 있다.
    - 코다는 거래를 원장에 포함하기 위해 검사를 통과해야 한다.
        - **타당성 합의** - 트랜잭션에 필요한 모두 서명이 유효하면서, 관련된 컨트랙트의 모든 제약을 충족해야 한다.
        - **고유성 합의** - 코다는 UTXO 모델을 따라, 입력의 사용 여부를 검사하고 이중 지출을 방지한다.
- DAML
    - 디지털자산(Digital Asset) 이 개발한 손쉬운 스마트 컨트랙트 작성을 위한 프로그래밍 언어이다.
    - 개발자는 블록체인과 분리된 계층에서 DAML 컨트랙트를 체결한다. 컨트랙트가 체결된 후 더 쉽게 원장이나 스토리지 모델을 변경할 수 있다.

### 서비스로서의 블록체인

BaaS(Blockchain as a Service) 라는 개념은 공급업체가 맞춤형으로 구현이 쉬운 솔루션을 제공하는 것이다. 사용자의 중앙집중화 관리 및 노드 배포와 같은 요소를 제공한다.

- 아마존 퀀텀 레저 (Quantum Ledger)
    - 퀀텀 레저 데이터베이스(QLDB) 는 암호화로 보호되며, 이더리움과 하이퍼레저 패브릭 프레임워크를 사용하는 원장이다.
- 마이크로소프트 애저 (Azure)
    - 개발자들이 쿼럼과 코다와 같은 다양한 블록체인을 배치할 수 있도록 분산 모델을 제공한다. 사용하는 블록체인에 따라 스마트 컨트랙트 개발을 지원한다.
    - 개발자는 블록체인 구현 내부에 Validator 를 설치할 수 있고, 블록체인 정보를 데이터베이스로 쉽게 내보내는 기능도 제공한다.
- VMWare
    - EVM, DAML 및 하이퍼레저를 지원하는 멀티 블록체인 플랫폼
- 오라클
    - 하이퍼레저 패브릭에 구축되어 하이브리드, 온프레미스 또는 둘을 혼합해 규제 요건에 대응하기 유리하도록 유연성을 제공하며 사기 방지를 위한 변조 방지 블록체인 테이블을 지원한다.
- IBM
    - 하이퍼레저 패브릭을 지원하는 툴셋을 핵심 기술로 제공
- SAP
    - 클라우드 플랫폼을 통해 배포 및 서비스를 제공하며, 하이퍼레저 패브릭 및 이더리움 메인넷을 지원한다. SAP 블록체인 비즈니스 서비스를 문서와 데이터를 변조로부터 보호한다.

### 뱅킹

은행권에서는 비효율적이거나 비용이 많은 프로세스를 블록체인으로 우회할 수 있는지 실험하고 있다.

- 로열 민트
    - 영국에서 동전을 생산하는 업체로, 시카고 상업 거래소와 제휴해 금에 묶인 블록체인 자산을 만들었고 Bitgo 가 지갑 및 KYC 기술을 제공했다.
- 프랑스 중앙은행
    - 유로화 지불을 위한 디지털 정체성을 바탕으로 실험을 진행했다. 이를 위해 블록체인 산업에서 세계적인 규제를 요구하고 있다.
- 중국
    - 국가적으로 블록체인의 발전 가속화를 발표하며, 중앙은행이 암호화폐로 나아가고 있으며 디지털 위안화는 블록체인 기술을 활용할 것으로 예상된다.
- 연방준비제도
    - 보스턴 연준은 2019년 이더리움과 하이퍼레저 기반 블록체인 테스트에 대한 논문을 발표했다. 다양한 은행과 스마트 컨트랙트(Chaincode)을 대표하는 지갑을 사용하며, 보스턴 지부가 담당하는 연방준비제도이사회(FRB) 에 대한 지급을 조정하였다.

<p align="center">
    <img width="600" alt="Image" src="https://github.com/user-attachments/assets/568b0b33-3447-4ea0-b381-4a225dda17af" />
</p>

### 퍼미션드 원장 사용 사례

퍼블릭 블록체인과 다르게, 기업의 사용 요건에 따라 블록체인 플랫폼에는 개인정보 보호 및 개발 기능이 포함되어 다양한 사례의 개발로 이어졌다.

**IT**

DAML SDK 는 일반적으로 회사에서 많이 사용하는 VSCode 에디터에서 개발가능한 환경을 제공한다. 원장에 관련된 스마트 컨트랙트는 시스템에 중요한 데이터를 검증하는 데 도움이 된다.

**뱅킹**

은행은 다른 조직들과 함께 운영해야 하기 때문에 블록체인은 다른 조직들이 동의하고 신뢰할 수 있는 중개자 역할을 할 수 있다.

**산탄데르(Santander) 은행의 디지털 채권 설계 프로세스**

<p align="center">
    <img width="600" alt="Image" src="https://github.com/user-attachments/assets/72d9c0c7-4742-4791-bb6b-8941e5dd819b" />
</p>

**중앙은행 디지털 통화**

CDBC(Central Bank Digital Currencies) 는 한 나라의 Fiat 통화의 디지털 형태다. 이는 제3자를 요구하는 대신 당사자간 실시간 지불을 가능하게 했다. 여러 선진국들은 이를 대체하기 위해 블록체인 혹은 분산 원장 기술을 도입하는 것도 고려하고 있다.

**법률**

블록체인은 불변의 기술 혁신으로서 법적 절차에서 정보를 검증하는 데 도움이 된다. 스마트 컨트랙트 개발의 개념을 활용해 많은 법적 프로세스를 자동화 할 수도 있다.

**게임**

게임 내의 아이템 개념을 디지털 자산과 연계해 고유성을 상징하거나, 부정행위에 대처하기 위해 스마트 컨트랙트를 사용하는 등 블록체인 기술을 다양하게 사용할 수 있다. 

**헬스케어**

의료계에서는 환자들이 의료 업체가 제공한 모든 디지털 데이터에 접근할 수 있도록 하는 규정이 시행될 예정이다. 이를 위해 암호화를 사용하는 원장 기반 시스템인 검증 가능한 데이터 감사를 연구 중이다.

**사물인터넷(IOT)**

기업은 여러 스마트 디바이스를 사물인터넷에 연결하고 검증 가능한 정보를 제공하기 위해 통제된 인프라에서 계정 및 결제 기능을 기본적으로 갖춘 블록체인을 솔루션의 일부로 적용하여 안전하게 데이터를 적용할 수 있다.

**결제**

블록체인은 특정 결제 사례에 사용하기 위한 수단으로 효율적인 솔루션이 될 수 있다.

- 법인 결제 - 청구서와 주문서의 유효성 검사 등의 자동화
- 은행 간 결제 - 전 세계 은행에 송금할 때 부족한 결제 정보 추가
- 개인 대 개인 간 결제 - 더 저렴하고 빠른 결제를 위한 아이디어로서 사용
