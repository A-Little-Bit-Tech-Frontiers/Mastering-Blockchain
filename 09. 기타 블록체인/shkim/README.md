# 기타 블록체인

## 블록체인은 무엇에 좋은가 ?

블록체인이 암호화폐와 투기 외에 어떤 용도로 사용되고 있는지 살펴본다. <br>
블록체인 만들기 위해 사용되는 핵심 기술은 다음과 같다.

- 합의: 새로운 레코드의 유효성을 검사해 파손 방지
- 해시: 레코드를 통합해 감사 추적을 유지
- 암호화: 디지털 데이터 전송 보호
- 분산화: 퍼블릭 원장 레코드를 공유

<br>

블록체인 기술에서 파생된 특성을 기반으로, 블록체인이 수행하는 기능은 다음과 같다.

- 자기조직화(합의): 블록체인은 일반적으로 블록 생성 간격에 관계없이 프롬프트를 표시하지 않고, 일정한 시간 단위로 데이터를 처리할 수 있다.
- 영구적인 레코드(해시): 블록체인 기술은 이미 블록에 배치된 레코드를 수정하는 것을 매우 어렵게 만든다.
- 자산 이동(암호화): 블록체인의 첫번쨰 활용 사례는 서드파티의 개입없이 자산을 이전하는 것이었다.
- 데이터 공유(분산화): 서로 신뢰가 필요하지 않는 여러 당사자들은 블록체인을 사용해 다양한 데이터 구조에서 협업할 수 있다.

<br>

> 기존 기술이 해결하지 못하는 문제를 해결하기 위해 블록체인을 활용할 이유를 찾는 사람이 많아졌다. <br>
> 비즈니스에서 사용 사례로는, 데이터베이스를 고려해야 한다. <br>
> 데이터베이스의 보안과 공유는 많은 조직이 해결해야 할 과제이며, 클라우드나 모바일 같은 기술의 등장으로 보안 취약성 문제도 대두되고 있다. <br>
> 블록체인은 보안이 필요하지만 공유돼야 하는 정보를 기업이 조정할 수 있는 방법을 제공할 수 있다. <br>
> - 블록체인은 거래 상대방이 합의할 수 있는 트랜잭션 메커니즘인가 ?
> - 블록체인으로 작성해야 하는 데이터의 종류에 대해 당사자가 합의할 수 있는가 ?
> - 블록체인 기술로 문제를 해결할 수 있는가 ?
> 
> 어떤 질문이든 답은 **그렇다**이다.

## 데이터베이스와 원장

원장이란 기록 보관 시스템을 설명하는데 사용되는 용어다. 무허가 원장은 암호화 기반 블록체인을 묘사할때 쓴다. <br>
블록체인은 허가를 받아야 하는 중앙집중식으로 운영되지 않기 때문에 누구나 참여할 수 있어 퍼미션리스(무허가) 블록체인이라고도 한다. <br>
**퍼미션리스 블록체인은 계좌와 결제가 내장된 분산 컴퓨팅 시스템이다.**

## 탈중앙화와 중앙집중화

초기 암호화폐 지지자들은 기술의 핵심 요소로 탈중앙화를 받아들였다. <br>
그러나 블록체인 플랫폼, 특히 조직을 위해 개발된 플랫폼은 훨씬 중앙집중적이다.

### 참가자

채굴 장비를 가진 사람이라면 누구나 네트워크에 가입해 채굴을 시작할 수 있다. <br>
그러나 엔터프라이즈에 적용하는 프라이빗 블록체인은 누가 참여하는지 통제해야 한다. 중앙집중화 제어는 시스템을 작동시키는 핵심 요소다. <br>
블록에 게시된 거래나 자료에 동의하는 방식도 중요하지만, 반드시 승인된 참가자만 참여시켜야 한다.

### 분산 검증 원장의 주요 특성

구글 리서치에서 일하는 암호학자인 벤 로리는 퍼미션리스가 아닌 블록체인에 바람직한 특성을 요약한 **분산 검증 원장 프레임워크**를 제시했다. <br>

- 승인 통제: 원장이 허용하는 내용과 형식을 어떻게 정해야 하는지에 대한 정의가 있어야 한다.
- 합의: 합의는 체인이나 원장에 게시된 정보의 유효성에 동의하는 것을 뜻한다. 작업 증명, 다수 규칙, 조합 또는 다른 방법을 통해 달성될 수 있다.
- 검증: 검증은 네트워크에서 일어난 이벤트가 정확하고 의도된대로 수행되도록 보장한다.
- 집행: 질서를 유지하기 위해서는 집행이 필요하다. 비트코인과 같은 블록체인은 네트워크의 모든 사람이 가장 긴 체인에 동의한 특정 블록에 해당하는 체크포인트를 추가해 집행을 제공한다. 각 포크에서 가장 긴 체인은 모든 체크포인트를 포함해야 한다.

## 이더리움 기반 프라이버시 구현

퍼블릭 블록체인과 암호화폐 네트워크는 기업에서 쓰기에 적합하지 않다. <br>
조직은 이더리움 블록체인을 포크하고 필요한 개인정보 보호 기능을 포함해 사용자 정의 구현체를 만들어야 한다.

### 나이트폴

나이트폴은 회계법인 EY가 이더리움을 구현한것이다. 스마트 콘트랙트 기술에 개인정보 보호 기능을 추가해 ERC-20 및 ERC-721 토큰을 프라이빗 블록체인으로 구동 가능하도록 설계했다. <br>
나이트폴은 영 지식 증명을 이더리움에서 사용하기 쉽도록 구현한 라이브러리 조크라테스의 Zk-SNARKs 함수를 사용한 영 지식 증명을 제공한다.

### 쿼럼

JP모건이 개발한 쿼럼은 이더리움 기반 블록체인으로 프라이빗 트랜잭션과 프라이빗 콘트랙트를 지원해 익명성을 보장한다. <br>
또한 이더리움 엔지니어가 사용하는 개발 도구와 호환된다. 쿼럼은 영 지식 증명 기술을 사용해 개발한 제더 프로토콜을 사용한다. <br>
쿼럼은 비대칭 암호화 기술인 엘가말 암호화를 사용해 공개키로 각 계정 잔액을 암호화한다.

## 엔터프라이즈 구현

이더리움으로 시작해 특정 사용 사례를 위해 처음부터 자체 솔루션을 구축하기로 결정한 기업이 많다. <br>
이더리움이 아닌 독점 블록체인을 연구하는 그룹도 있다.

### 하이퍼레저

가장 잘 알려진 하이퍼레저 프로젝트로는 go 언어를 사용하는 원장 기술인 패브릭이다. <br>
하이퍼레저 패브릭은 이더리움과 마찬가지로 스마트 콘트랙트, 거래 및 합의를 지원한다.

### 코다

코다는 프라이버시를 추구하는 기관에 초점을 맞추고 있다. <br>
코다 플랫폼은 JVM을 기반으로 동작하고, 관계형 데이터베이스에 복제하는 원장 시스템을 사용해 쉽게 쿼리할 수 있다.

#### 코다 작동방법

<img width="511" alt="Image" src="https://github.com/user-attachments/assets/cf0eeaef-59e7-4717-a832-ed6886f82aba" />

코다는 기업간 거래를 더 신뢰할 수 있고 효율적으로 만들기 위해 고안됐다. 코다가 없으면 두 데이터베이스는 고립된다. <br>
회사들은 안전하게 거래를 관리하기 위해 코다로 협력할 수 있다. <br>
기업이 혜택을 볼 수 있는 퍼블릭 블록체인의 속성은 크게 두 가지다.

- 트랜잭션 불변성: 거래가 원장에 추가되면 변경하거나 제거할 수 없다.
- 피어 검증: 트랜잭션이 원장에 추가되기 전에 다른 네트워크 참가자는 트랜잭션이 유효한지 여부를 결정한다.

#### 코다 네트워크

코다 네트워크는 피어 투 피어 네트워크다. 각 노드는 법적 주체를 대표하며, 노드마다 하나 이상의 코다 응용 프로그램으로 코다의 인스턴스를 실행한다. <br>
누구나 자신의 코다 네트워크를 시작할 수 있지만 네트워크의 모든 노드는 네트워크 운영자로부터 가입 허가를 받아야하며, 모든 참가자에게도 확인돼야 한다. <br>
네트워크의 모든 노드는 TLS를 통해 네트워크의 다른 모든 노드와 직접적이고 비공개로 통신한다.

<img width="598" alt="Image" src="https://github.com/user-attachments/assets/f4fbadce-efdd-4dc2-abfa-1bad4295a83a" />

#### 코다 레저

네트워크의 각 노드는 자체 중앙집중식 데이터베이스를 호스트하고 모든 트랜잭션 피어 투 피어를 수행한다. <br>
여러 노드가 트랜잭션을 완료한 후 노드는 트랜잭션을 자신의 데이터베이스에 저장한다. <br>
**트랜잭션에 관련된 노드 또는 액세스가 주어진 노드만 트랜잭션에 대해 가시성이 있다.**

<img width="545" alt="Image" src="https://github.com/user-attachments/assets/2bd48966-74d4-4704-9f19-d884ecaf54ab" />

#### 코다 합의

거래가 원장에 포함되려면 다음 두 가지 검사를 통과해야 한다.

1. 타당성 합의: 관련된 모든 노드가 다음 사항을 확인한다.
   2. 트랜잭션에 필요한 모든 서명이 유효하다.
   3. 트랜잭션은 관련된 스마트 콘트랙트에 정의된 모든 제약을 충족한다.
4. 고유성 합의: 코다는 비트코인과 유사한 UTXO 모델을 따른다. 고유성 검사를 통해 트랜잭션에 포함된 입력이 이미 사용되지 않았음을 확인하고 이중 지출을 방지한다.

## 뱅킹

대형 금융기관들과 중앙은행들은 블록체인 구현을 살펴보고 있다. 

### 로열 민트

영국에서 동전을 생산하는 로열 민트는 시카고 상업 거래소와 제휴해 금에 묶인 블록체인 기반 자산을 만들었다. <br>
암호화폐 업체 비트코가 이 프로젝트를 위해 지갑과 KYC 기술을 제공하기로 했다.

### 프랑스 중앙은행

2016년 유로화 지불을 위한 디지털 정체성을 바탕으로 실험을 진행했다. <br>
가장 최근데 암호 경제학과 하이퍼레저, 코다 및 쿼럼 플랫폼에 정통한 블록체인 전문가를 찾는 구인 공고를 발표했다.

### 중국

2019년 국가 블록체인의 발전 가속화를 발표했다.

### 연방준비제도

2019년 보스턴 연방준비제도이사회는 이더리움과 하이퍼레저 기반 블록체인 테스트를 기술한 논문을 발표했다. <br>
다양한 은행과 스마트 계약을 대표하는 월렛을 사용하며, 보스턴 지부가 담당하는 연방준비제도이사회에 대한 지급을 조정하였다.

### JP모건

이더리움을 기반으로 자체 블록체인인 쿼럼을 개발했다. <br>
또한 자체 스테이블코인인 JPC 코인도 만들었다. <br>
암호화폐는 쿼럼 블록체인을 활용해 비싸고 비효율적일수 있는 국제 송금 방법으로 활용된다.

## 퍼미션드 원장 사용

퍼미션드 시스템에 대한 사례는 개방형 블록체인의 사례와 매우 다르다. <br>
개방형 블록체인은 투기, 토큰화, 디지털 가치 저장에 좋을 수 있지만 기업은 속도, 개인정보보호 및 개발 기능이 포함된다. <br>
허가된 플랫폼은 테스트 및 검증을 거쳐 기업의 요구에 맞춘 다양한 사례의 개발로 이어졌다.

### 뱅킹

증권화, 현금화, 결제 시스템에 이르기까지 은행들과 중앙은행 모두 블록체인 기술을 연구하고 있다. <br>
은행은 다른 조직과 함께 운영해야 하기 때문에 블록체인은 서로 다른 단체들이 모두 동의하고 신뢰할 수 있는 중개자 역할을 할 수 있다. <br>
그 예가 산탄데르 은행이 발행한 디지털 채권이다.

### 중앙은행 디지털 통화

CBDC란 한 나라의 fiat 통화의 디지털 형태다. 중개인이나 은행과 같은 제3자를 요구하는 대신 당사자간에 직접 실시간 지불을 가능하게 했다. <br>
기존의 데이터베이스를 사용할 수 있지만, 블록체인이나 분산 원장 기술을 도입하는 것도 고려하고 있다.

### 법률

블록체인은 불변의 기술 혁신으로써 법적 절차에서 정보를 검증하는데 도움이 된다. <br>
예를 들어 미국 법무 법인인 베이커호스테틀러는 화물 계약을 위해 스마트 콘트랙트를 사용하고 있다.

### 게임

고유성을 상징하는 디지털 자산과 연결된 아이템 개념이 인기를 끌었다. <br>
부정행위에 대처하기 위해서도 블록체인 기술이 이용된다. (공공 콘트랙트 코드때문에 게임을 조작할 수 없다.)

### 결제

오픈 블록체인은 비자와 같은 기존 네트워크와 경쟁하기 위해 고군분투했다. 

#### 법인 결제

대규모 기업이 결제할때 수반되는 관리 비용은 어마어마하다. 예를 들어, 청구서 수표가 계약에 명시된 구매 주문서와 일치하는지 확인하는 것이 있다. <br>
관련된 일부 프로세스는 블록체인 기술로 자동화 및 검증될 수 있다.

#### 은행 간 결제

대형 은행들도 국제 송금에 어려움을 겪고 있다. 전세계 은행에 송금할때 지불에 대한 정보가 부족하는 점이 관련있다. <br>
JP모건은 JPM 코인과 함께, 은행간 결제 정보를 전송하는 쿼럼 기반 시스템인 IIN이라는것을 개발했다.

#### 개인 대 개인 결제

그동안 퍼블릭 블록체인에 문제가 됐던 더 싸고 빠른 결제를 위해 블록체인 장부를 사용하는 아이디어에 대한 관심이 높다.

## 리브라

리브라 협회는 리바라라는 완전히 새로운 블록체인 시스템을 구현하기 위해 함께 모인 조직의 컨소시엄이다.

### 기존 블록체인에서 빌려오다.

리브라 협회는 핫스터프로 알려진 VM웨어가 개발한 합의된 비잔틴 장애 허용 알고리듬을 활용해 인터넷에서 완전히 새로운 결제 시스템을 만들려고 한다. <br>
핫스터프는 유효성 검사기로 클라이언트의 트랜잭션을 받아들이고 검증을 위해 투표 매커니즘을 사용한다. <br>
오류 또는 다운타임이 발생한 경우 다른 검증자가 선두를 차지할 수 있기 때문에, 장애허용성을 갖추고 있다.

리브라 암호화폐는 법정 화폐와 국채를 포함한 자산들을 바스켓에 연동해 안정적인 가치를 유지할 것으로 예상된다. <br>
대부분의 스테이블코인과 달리 미국 달러에 고정할 계획이 없으며, 대신 법정화폐에 대한 자체 평가가 있는 디지털 통화로 존재할 것이다.

### 리브라 프로토콜 동작 방법

리브라의 네트워크는 두 가지 유형으로 유효성 검사기와 풀 노드가 있다. <br>
검증자 노드는 허가된 노드로, 리브라 협회의 조직으로 구성돼 있다. 노드는 LBFT 합의 프로토콜로 네트워크의 거버넌스를 관리하고 리브라 트랜잭션을 처리한다. <br>
풀 노드는 누구나 실행할 수 있고 두 가지 목적을 달성할 수 있다.

1. 리브라 블록체인의 현재 상태를 실시간으로 브로드캐스트하는 역할을 한다. 풀 노드는 블록체인의 전체 사본을 유지하고 클라이언트 요청에 응답한다.
2. 검증자가 처리한 트랜잭션을 재확인한다.

### 블록

LBFT에서 블록체인에 추가된 각 트랜잭션 블록은 라운드의 리더에 의해 선출된다. <br>
검증자는 리더로서 차례대로 역할을 맡게 된다. <br>
리브라는 초당 1000건의 트랜잭션 속도를 예상하고 있다. <br>
리더가 새로운 트랜잭션 블록을 제안하면, 모든 네트워크 검증자가 해당 블록이 유효한지 여부를 투표한다.

### 트랜잭션

리브라의 트랜잭션은 이더리움과 유사한 방식으로 구성돼있다. <br>
비트코인과 같은 UTXO 모델이 아닌 계좌 모델을 따르기 때문에 입출력이 없다.

<img width="705" alt="Image" src="https://github.com/user-attachments/assets/3ffc88ea-a7f0-4f49-a379-d3bd58a89060" />














